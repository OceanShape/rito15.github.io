---
title: 몬티 홀 문제에 대한 3가지 풀이
author: Rito15
date: 2022-02-05 17:00:00 +09:00
categories: [Memo, Mathematics]
tags: [math]
math: true
mermaid: true
---

# 몬티 홀 문제
---

세 개의 문이 있다.

이 중 두 개의 문 뒤에는 염소가 있고, 하나의 문 뒤에는 자동차가 있다.

사회자는 자동차가 있는 문을 미리 알고 있으며,

내가 하나의 문을 선택하면, 내가 선택하지 않은 두 개의 문 중 염소가 있는 문을 열어서 보여준다.

그리고 이 상태에서 나는 내가 고르지 않은 닫힌 문으로 선택을 바꿀 기회를 얻게 된다.

선택을 바꾸는 것이 유리할까?

내가 선택을 바꿨을 때, 바꾼 문 뒤에 자동차가 있을 확률은 얼마일까?

<br>

- 정답 : $$\frac{2}{3}$$

- 몬티 홀의 딜레마 : $$\frac{1}{2}$$이 아니고 $$\frac{2}{3}$$ 인 이유는 무엇인가?

<br>

조건부 확률 계산에 대한 논리와 직관의 딜레마를 보여주는 대표적인 문제.

만약 선택 순간만을 따져서, 두 개의 문 중에 하나를 선택하는 경우라면 당연히 $$\frac{1}{2}$$확률이 맞다.

하지만 조건부 확률로 계산하게 되면 선택을 바꾸는 것이 무조건 높은 확률을 가지게 된다는 결론이 나온다.

이런 계산이 나오게 되는 과정을 3가지 풀이 방법에 따라 살펴보자.

<br>



# 풀이 1 - 여사건 : 확률역전세계
---

<details>
<summary markdown="span">
...
</summary>

<br>

내가 처음에 어떤 문을 고르든, 그 문 뒤에 자동차가 있을 확률은 $$\frac{1}{3}$$이다.

그리고 염소가 있을 확률은 $$\frac{2}{3}$$이다.

<br>

그리고 사회자는 이미 자동차의 위치를 알고 있으므로

내가 첫 번째 선택을 한 상태에서,

내가 고르지 않은 문 중에서 '반드시' 염소가 있는 문을 열어준다.

<br>

이제 나는 선택을 바꿀 기회를 얻게 되는데,

내가 처음에 자동차가 있는 문을 골랐을 확률은 $$\frac{1}{3}$$이다.

내가 처음에 염소가 있는 문을 골랐을 확률은 $$\frac{2}{3}$$이다.

<br>

그런데 선택을 바꾸게 된다면

내가 처음에 자동차가 있는 문을 골랐다면 선택을 바꾼 후 '반드시' 염소가 있는 문을 고르게 되고

내가 처음에 염소가 있는 문을 골랐다면 선택을 바꾼 후 '반드시' 자동차가 있는 문을 고르게 된다.

<br>

이제 다시 확률을 계산해보면

만약 내가 선택을 바꾼다는 행위가 전제되었을 때,

'내가 선택한 문 뒤에 자동차가 있을 확률($$\frac{1}{3}$$)'이었던 것은

'내가 선택한 문 뒤에 염소가 있을 확률($$\frac{2}{3}$$)'이 되어버리고

반대로 

'내가 선택한 문 뒤에 염소가 있을 확률($$\frac{2}{3}$$)'이었던 것은

'내가 선택한 문 뒤에 자동차가 있을 확률($$\frac{1}{3}$$)'이 되어버린다.

<br>

다시 정확히 정의해보자면

'내가 처음에 자동차를 고르고 선택을 바꿔서 염소를 얻게 되는 확률'은

'처음에 염소를 고르고 선택을 유지해서 염소를 얻게 되는 확률'인 $$\frac{2}{3}$$와 동일하고,

'내가 처음에 염소를 고르고 선택을 바꿔서 자동차를 얻게 되는 확률'은

'처음에 자동차를 고르고 선택을 유지해서 자동차를 얻게 되는 확률'인 $$\frac{1}{3}$$과 동일하다.

<br>

따라서 '선택을 바꾸는 행위'는 '초기 사건의 확률'과 '초기 사건의 여사건의 확률'을 서로 뒤집어버리는 역할을 하기 때문에

결국 선택을 바꾸는것이 유리하다.

<br>

어떻게 이것이 가능할까?

1. 사회자가 미리 자동차의 위치를 알고 있고,

2. 초기 선택 후, 내가 선택하지 않은 문 중에서 '반드시' 염소가 있는 문을 열어준다.

이렇게 두 가지 전제가 있기에 가능하다.

<br>

만약 3개의 문이 아니라 100개의 문이 있다고 가정하자.

내가 하나를 선택했을 때, 사회자는 내가 선택하지 않은 99개의 문에서 염소가 있는 98개의 문을 열어줄 것이다.

그리고 나는 내 선택을 유지할지, 내가 고르지 않은 문으로 선택을 바꿀지 고민하게 된다.

여기서도 만약 내가 선택을 바꾸게 된다면,

자동차의 확률($$\frac{1}{100}$$)은 염소의 확률($$\frac{99}{100}$$)로 역전되어 버리므로

선택을 바꾸는 것이 유리하다.

<br>

결국 핵심을 정리하자면 이렇다.

사회자가 미리 정답을 알고 있고, 내가 선택한 문을 제외한 문 중에서 '반드시 염소가 있는 문을 열어주기 때문'에

내가 선택을 바꾸는 것은 말 그대로 '내가 최초 선택했을 때의 확률에 대한 여사건을 고르는 것'이 되어버린다.

문이 3개면 $$1 - \frac{1}{3} = \frac{2}{3}$$,

문이 100개면 $$1 - \frac{1}{100} = \frac{99}{100}$$가 된다.

</details>

<br>


# 풀이 2 - 경우를 나누어 살펴보기
---

<details>
<summary markdown="span">
...
</summary>

<br>

이번에는 구체적인 사건의 경우를 나누어 모두 확인해보자.

세 개의 문을 순서대로 A, B, C라고 한다.

A에는 자동차가 있고, B와 C에는 염소가 있다.

<br>

두 가지 선행 사건으로 나누어 경우의 수를 살펴볼 것이다.

1. 선택을 바꾸지 않은 경우
2. 선택을 바꾼 경우

<br>

그리고 다음을 확인하게 된다.

'선행 사건이 결정된 상태에서, 내 최초 선택에 대한 당첨 확률'

<br>

일단 우선은 선택을 바꾸지 않은 경우를 살펴보자.

선택을 바꾸지 않으면 사회자가 어떤 문을 열어주든 확률에 개입하지 않기 때문에, 정답만을 바로 살펴볼 수 있다.

<br>

A를 골랐을 경우, 당첨이다.

B를 골랐을 경우, 당첨이 아니다.

C를 골랐을 경우, 당첨이 아니다.

따라서 선택을 바꾸지 않았을 때의 당첨 확률은 $$\frac{1}{3}$$이다.

<br>

이번에는 선택을 바꾸는 경우를 살펴본다.

A를 골랐을 경우, 사회자는 B 또는 C를 열어서 보여준다.

그리고 나는 사회자가 열어주지 않은 나머지 문(B 또는 C)으로 선택을 바꾸게 되는데,

당첨되지 않는다.

<br>

B를 골랐을 경우, 사회자는 C를 열어서 보여준다.

그리고 나는 A로 선택을 바꾸게 되고, 당첨이다.

<br>

C를 골랐을 경우, 사회자는 B를 열어서 보여준다.

그리고 나는 A로 선택을 바꾸게 되고, 당첨이다.

따라서 선택을 바꿨을 때의 당첨 확률은 $$\frac{2}{3}$$가 되는 것이다.

<br>

이 때, 조건부 확률에 대해 정확히 정의해볼 필요가 있다.

여기서 '당첨 확률'이 의미하는 것은 다음과 같다.

'선택을 바꾸거나 바꾸지 않았을 때, 내 최초 선택에 따른 당첨 확률'

<br>

따라서 '선택을 바꾸거나 바꾸지 않는 것'이 선제 조건이 되는 것이고,

우리가 결국 계산하게 되는 것은 단순히 '내 최초 선택에 따른 당첨 확률'이 아니라

1. '선택을 바꾸지 않았을 때' 내 최초 선택에 따른 당첨 확률
2. '선택을 바꿨을 때' 내 최초 선택에 따른 당첨 확률

이 중에서 2번에 대한 확률(조건부 확률)인 것이다.

<br>

'내가 선택을 바꿨을 때, 바꾼 문 뒤에 자동차가 있을 확률은 얼마일까?'

우리는 이 문장 자체를 독립 확률($$P(A)$$)이 아닌 조건부 확률($$P(A \mid B)$$)로 해석해야 했던 것이다.

이 문장이 조건부 확률을 의미한다는 것을 이해하지 못한다면

이 문제의 정답이 $$\frac{2}{3}$$라는 것을 결코 이해하지 못할 수 있기에 어려운 문제다.

</details>

<br>


# 풀이 3 - 베이즈 정리
---

<details>
<summary markdown="span">
...
</summary>

<br>

내가 문 A를 선택했을 때의 상황을 가정하고 베이즈 정리를 이용해 조건부 확률을 계산해보자.

우선, 각 확률에 대해 정의하자면 다음과 같다.

<br>

$$P(A)$$ = A에 자동차가 있을 확률 = $$\frac{1}{3}$$

$$P(B)$$ = A에 자동차가 있을 확률 = $$\frac{1}{3}$$

$$P(C)$$ = C에 자동차가 있을 확률 = $$\frac{1}{3}$$

$$P(M_A)$$ = 진행자가 A를 열어서 염소를 보여줄 확률 = 0

$$P(M_B)$$ = 진행자가 B를 열어서 염소를 보여줄 확률 = $$\frac{1}{2}$$

$$P(M_C)$$ = 진행자가 C를 열어서 염소를 보여줄 확률 = $$\frac{1}{2}$$

<br>

진행자는 문 B 또는 C를 열어서 염소를 보여줄 것이다.

문 B를 열어 염소를 보여주는 상황과 문 C를 열어 염소를 보여주는 상황은

서로 동일한 확률 분포를 갖게될 것이므로,

둘 중 한가지 상황에 대해서만 해석해도 충분하다.

따라서 문 B를 열어 염소를 보여주는 상황을 가정하여 해석해보자.

<br>

진행자가 문 B를 열어서 염소를 보여주었다는 사건이 선행 사건이 된다.

따라서 계산해야 할 조건부 확률은 다음과 같다.

<br>

$$P(A \mid M_B)$$　

= 진행자가 B를 열어서 염소를 보여주었을 때, A에 자동차가 있을 확률

= 최초에 A를 선택했고, 선택을 바꾸지 않은 경우 당첨될 확률

<br>

$$P(C \mid M_B)$$　

= 진행자가 B를 열어서 염소를 보여주었을 때, C에 자동차가 있을 확률

= 최초에 A를 선택했고, 선택을 바꾼 경우 당첨될 확률

<br>

$$P(A \mid M_B)$$를 계산해보자.

베이즈 정리에 의해,

$$P(A \mid M_B) = \frac{P(M_B \mid A) \cdot P(A)}{P(M_B)}$$ 이다.

<br>

$$P(M_B \mid A)$$ = A에 자동차가 있을 때 진행자가 B를 열어줄 확률 = $$\frac{1}{2}$$

$$P(A) = \frac{1}{3}$$　

$$P(M_B) = \frac{1}{2}$$　

이므로

$$( \frac{1}{2} \cdot \frac{1}{3}) / \frac{1}{2} = \frac{1}{3}$$이다.

<br>

$$P(C \mid M_B)$$를 계산해보자.

베이즈 정리에 의해,

$$P(C \mid M_B) = \frac{P(M_B \mid C) \cdot P(C)}{P(M_B)}$$ 이다.

<br>

$$P(M_B \mid C)$$ = C에 자동차가 있을 때 진행자가 B를 열어줄 확률 = 1

$$P(C) = \frac{1}{3}$$　

$$P(M_B) = \frac{1}{2}$$　

이므로

$$(1 \cdot \frac{1}{3}) / \frac{1}{2} = \frac{2}{3}$$이다.

<br>

따라서 다음과 같은 결론을 얻을 수 있다.

내가 문 A를 선택하고 진행자가 문 B를 열어서 염소를 보여주었다면,

1. 선택을 바꾸지 않았을 때 A에 자동차가 있을 확률 = $$\frac{1}{3}$$
2. 선택을 바꿨을 때 C에 자동차가 있을 확률 = $$\frac{2}{3}$$

</details>

<br>







# 아주 간단히 요약 정리
---

<details>
<summary markdown="span">
...
</summary>

<br>

A에는 자동차, B와 C에는 염소가 있다.

나는 아무 것도 모르고, 사회자는 어디에 뭐가 있는지 모두 알고 있다.

선택의 순간, 바꾸는 경우와 바꾸지 않는 경우로 나누어 살펴보자.

<br>

## **[1] 바꾸는 경우**

A를 골랐다면, B나 C로 바꿨을 때 모두 염소이므로 꽝.

B를 골랐다면, 사회자가 C를 보여주고 나는 A를 선택하게 되므로 당첨.

C를 골랐다면, 사회자가 B를 보여주고 나는 A를 선택하게 되므로 당첨.

<br>

## **[2] 안바꾸는 경우**

A를 고르면 당첨.

B를 고르면 꽝.

C를 고르면 꽝.

<br>

## **그래서 결론?**

안바꾸면 처음 선택할 때의 확률 그대로 $$\frac{1}{3}$$이다.

바꾸면 '처음 선택에 대한 미당첨 확률'이 '당첨 확률'로 역전되므로 $$\frac{2}{3}$$이다.

<br>

## **그럼 문이 3개가 아니고 100개, 1000개, 10000개라면?**

처음 선택 후, 사회자는 염소가 있는 문을 각각 98개, 998개, 9998개 열어준다.

선택을 바꿨을 때 당첨 확률은 각각 $$\frac{99}{100}$$ $$\frac{999}{1000}$$, $$\frac{9999}{10000}$$인가요?

네.

</details>

<br>